{"title":"Masternodes-SystemView","description":"","widgets":[{"id":343540924,"definition":{"type":"query_table","requests":[{"q":"max:node.status{env:prod} by {coin}","aggregator":"last","alias":"node.ready","conditional_formats":[{"comparator":">=","value":1,"palette":"white_on_green"},{"comparator":"<=","value":1,"palette":"white_on_red"}]},{"q":"max:node.active{env:prod} by {coin}","aggregator":"last","limit":5,"order":"desc","alias":"node.active","conditional_formats":[{"comparator":">=","value":1,"palette":"white_on_green"},{"comparator":"<","value":1,"palette":"white_on_red"}]}],"title":"Are ALL nodes active?"}},{"id":3388803354106414,"definition":{"type":"query_table","requests":[{"q":"avg:node.connections{env:prod} by {coin}","aggregator":"last","limit":5,"order":"desc","alias":"node.conn","conditional_formats":[{"comparator":">=","value":1,"palette":"white_on_green"},{"comparator":"<","value":1,"palette":"white_on_red"}]},{"q":"avg:node.highestblock{env:prod} by {coin}","aggregator":"last","alias":"node.block"},{"q":"avg:explorer.highestblock{env:prod} by {coin}","aggregator":"last","alias":"explorer.block"}],"title":"current blocks/connections"}},{"id":392410526,"definition":{"type":"timeseries","requests":[{"q":"avg:explorer.highestblock{coin:chaincoin,$host,$role,env:prod} by {coin}-avg:node.highestblock{coin:chaincoin,$host,$role,env:prod} by {coin}","metadata":[{"expression":"avg:explorer.highestblock{coin:chaincoin,$host,$role,env:prod} by {coin}-avg:node.highestblock{coin:chaincoin,$host,$role,env:prod} by {coin}","alias_name":"explorer vs node diff"}],"display_type":"line","style":{"palette":"warm","line_type":"solid","line_width":"normal"}}],"markers":[{"value":"y = 0","display_type":"ok dashed","label":" OK "}],"title":"CHC node vs explorer block lag","show_legend":false,"legend_size":"0"}},{"id":3712508038290534,"definition":{"type":"timeseries","requests":[{"q":"max:explorer.highestblock{coin:zen,$host,$role} by {coin}-max:node.highestblock{coin:zen,$host,$role} by {coin}","metadata":[{"expression":"max:explorer.highestblock{coin:zen,$host,$role} by {coin}-max:node.highestblock{coin:zen,$host,$role} by {coin}","alias_name":"explorer vs node"}],"display_type":"line","style":{"palette":"warm","line_type":"solid","line_width":"normal"}}],"markers":[{"value":"y = 0","display_type":"ok dashed","label":" OK "}],"title":"ZEN node vs explorer block lag","show_legend":false,"legend_size":"0"}},{"id":4906983631436268,"definition":{"type":"timeseries","requests":[{"q":"max:explorer.highestblock{coin:arcticcoin,$host} by {coin}-max:node.highestblock{coin:arcticcoin,$host} by {coin}","display_type":"line","style":{"palette":"warm","line_type":"solid","line_width":"normal"}}],"markers":[{"value":"y = 0","display_type":"ok dashed","label":" OK "}],"title":"ARC node vs explorer block lag","show_legend":false,"legend_size":"0"}},{"id":4937596825243640,"definition":{"type":"timeseries","requests":[{"q":"per_hour(sum:node.highestblock{$role,$host,$user,coin:chaincoin} by {host,coin})","display_type":"bars","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"title":"CHC node blocks","show_legend":false,"legend_size":"0"}},{"id":62301111386650,"definition":{"type":"timeseries","requests":[{"q":"per_hour(sum:node.highestblock{$role,$host,$user,coin:zen} by {host,user})","display_type":"bars","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"title":"ZEN node blocks","show_legend":false,"legend_size":"0"}},{"id":1374690966739998,"definition":{"type":"timeseries","requests":[{"q":"per_hour(sum:node.highestblock{$role,$host,$user,coin:cropcoin} by {host,user})","display_type":"bars","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"title":"CROP node blocks","show_legend":false,"legend_size":"0"}},{"id":7111996548345890,"definition":{"type":"timeseries","requests":[{"q":"per_hour(sum:node.highestblock{$role,$host,$user,coin:arcticcoin} by {host,user})","display_type":"bars","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"title":"ARC node blocks","show_legend":false,"legend_size":"0"}},{"id":8825756937332038,"definition":{"type":"change","requests":[{"q":"max:node.highestblock{env:prod} by {coin}","change_type":"absolute","compare_to":"hour_before","increase_good":true,"order_by":"change","order_dir":"desc","show_present":true}],"title":"node blocks changes in 1h"}},{"id":343535008,"definition":{"type":"timeseries","requests":[{"q":"(avg:system.mem.total{$host,$coin,env:prod} by {host}-avg:system.mem.used{$host,$coin,env:prod} by {host})/avg:system.mem.total{$host,$coin,env:prod} by {host}*100","display_type":"bars","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"markers":[{"value":"y = 20","display_type":"ok dashed","label":" 20% free "},{"value":"y = 10","display_type":"error solid","label":" 10% free "}],"title":"% free ram","show_legend":false,"legend_size":"0"}},{"id":343547056,"definition":{"type":"timeseries","requests":[{"q":"(100-avg:system.cpu.idle{$host,$coin,os:ubuntu} by {host})","metadata":[{"expression":"(100-avg:system.cpu.idle{$host,$coin,os:ubuntu} by {host})","alias_name":"used cpu"}],"display_type":"area","style":{"palette":"warm","line_type":"solid","line_width":"normal"}}],"title":"cpu usage","show_legend":false,"legend_size":"0"}},{"id":343537329,"definition":{"type":"timeseries","requests":[{"q":"avg:system.load.15{$host,$coin,os:ubuntu} by {host}","display_type":"area","style":{"palette":"orange","line_type":"solid","line_width":"normal"}}],"title":"system load 15","show_legend":false,"legend_size":"0"}},{"id":352261499,"definition":{"type":"timeseries","requests":[{"process_query":{"search_by":"/usr/local/bin/arcd","metric":"process.stat.cpu.total_pct.norm","limit":100,"filter_by":["$host","$coin","$user"]},"display_type":"line","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"yaxis":{"label":"","scale":"linear","min":"auto","max":"auto","include_zero":true},"title":"% cpu for arcticcoind","show_legend":false,"legend_size":"0"}},{"id":344988124,"definition":{"type":"timeseries","requests":[{"process_query":{"search_by":"/usr/local/bin/cropcoind -daemon","metric":"process.stat.cpu.total_pct.norm","limit":10,"filter_by":["$host","$user"]},"display_type":"line","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"title":"% cpu for cropcoind","show_legend":false,"legend_size":"0"}},{"id":352261533,"definition":{"type":"timeseries","requests":[{"process_query":{"search_by":"/usr/local/bin/chaincoind","metric":"process.stat.cpu.total_pct.norm","limit":100,"filter_by":["$host","$coin"]},"display_type":"line","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"title":"% cpu for chaincoind","show_legend":false,"legend_size":"0"}},{"id":772494534789472,"definition":{"type":"timeseries","requests":[{"process_query":{"search_by":"zend","metric":"process.stat.cpu.total_pct.norm","limit":100,"filter_by":["$host","$coin"]},"display_type":"line","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"yaxis":{"label":"","scale":"linear","min":"auto","max":"auto","include_zero":true},"title":"% cpu for zend","show_legend":false,"legend_size":"0"}},{"id":386629202,"definition":{"type":"timeseries","requests":[{"q":"(sum:system.disk.total{$coin,$host,os:ubuntu} by {host}-sum:system.disk.free{$coin,$host,os:ubuntu} by {host})/sum:system.disk.total{$coin,$host,os:ubuntu} by {host}*100","display_type":"line","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"}}],"markers":[{"value":"y = 80","display_type":"warning dashed","label":" warning  "},{"value":"y = 95","display_type":"error dashed","label":" too full "}],"title":"used disk %","show_legend":false,"legend_size":"0"}},{"id":343543674,"definition":{"type":"timeseries","requests":[{"q":"-avg:system.net.bytes_sent{$host,$coin} by {host}","metadata":[{"expression":"-avg:system.net.bytes_sent{$host,$coin} by {host}","alias_name":"upload"}],"display_type":"area","style":{"palette":"cool","line_type":"solid","line_width":"normal"}},{"q":"avg:system.net.bytes_rcvd{$host,$coin} by {host}","metadata":[{"expression":"avg:system.net.bytes_rcvd{$host,$coin} by {host}","alias_name":"download"}],"display_type":"area","style":{"palette":"warm","line_type":"solid","line_width":"normal"}}],"title":"net downloaded/uploaded bytes","show_legend":false,"legend_size":"0"}},{"id":343539451,"definition":{"type":"hostmap","requests":{"fill":{"q":"avg:system.load.5{$host,$coin,os:ubuntu} by {host}"}},"title":"hosts","no_metric_hosts":false,"no_group_hosts":false,"group":["loc","host"],"scope":["$host","$coin","os:ubuntu"],"style":{"palette":"hostmap_blues","palette_flip":false}}},{"id":343539621,"definition":{"type":"toplist","requests":[{"q":"top(max:system.uptime{$host,$coin,$user} by {host,loc}, 5, 'last', 'desc')","style":{"palette":"dog_classic"}}],"title":"host uptime"}}],"template_variables":[{"name":"role","default":"*","prefix":"role"},{"name":"host","default":"vmi282924.contaboserver.net","prefix":"host"},{"name":"coin","default":"*","prefix":"coin"},{"name":"user","default":"*","prefix":"user"}],"layout_type":"ordered","is_read_only":false,"notify_list":[],"id":"tsu-cck-pbx"}